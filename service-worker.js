!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=92)}({41:function(e,n,r){var t=r(88),o=r(90);e.exports=t("v5",80,o)},88:function(e,n,r){var t=r(89);e.exports=function(e,n,r){var o=function(e,o,u,a){var i=u&&a||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e)),"string"==typeof o&&(o=function(e){var n=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){n.push(parseInt(e,16))})),n}(o)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(o)||16!==o.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=r(o.concat(e));if(c[6]=15&c[6]|n,c[8]=63&c[8]|128,u)for(var s=0;s<16;++s)u[i+s]=c[s];return u||t(c)};try{o.name=e}catch(e){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o}},89:function(e,n){for(var r=[],t=0;t<256;++t)r[t]=(t+256).toString(16).substr(1);e.exports=function(e,n){var t=n||0,o=r;return[o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]]].join("")}},90:function(e,n,r){"use strict";function t(e,n,r,t){switch(e){case 0:return n&r^~n&t;case 1:return n^r^t;case 2:return n&r^n&t^r&t;case 3:return n^r^t}}function o(e,n){return e<<n|e>>>32-n}e.exports=function(e){var n=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var u=unescape(encodeURIComponent(e));e=new Array(u.length);for(var a=0;a<u.length;a++)e[a]=u.charCodeAt(a)}e.push(128);var i=e.length/4+2,c=Math.ceil(i/16),s=new Array(c);for(a=0;a<c;a++){s[a]=new Array(16);for(var f=0;f<16;f++)s[a][f]=e[64*a+4*f]<<24|e[64*a+4*f+1]<<16|e[64*a+4*f+2]<<8|e[64*a+4*f+3]}for(s[c-1][14]=8*(e.length-1)/Math.pow(2,32),s[c-1][14]=Math.floor(s[c-1][14]),s[c-1][15]=8*(e.length-1)&4294967295,a=0;a<c;a++){for(var l=new Array(80),d=0;d<16;d++)l[d]=s[a][d];for(d=16;d<80;d++)l[d]=o(l[d-3]^l[d-8]^l[d-14]^l[d-16],1);var h=r[0],v=r[1],p=r[2],y=r[3],m=r[4];for(d=0;d<80;d++){var b=Math.floor(d/20),g=o(h,5)+t(b,v,p,y)+m+n[b]+l[d]>>>0;m=y,y=p,p=o(v,30)>>>0,v=h,h=g}r[0]=r[0]+h>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+m>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},92:function(e,n,r){"use strict";r.r(n);var t=r(41),o=r.n(t);function u(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var a=[{name:"remarks",key:"localGuid"},{name:"statuses",key:"localGuid"}],i=new(function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.name,t=n.version,o=n.objects;this.name=r,this.version=t,this.objects=o,this.isReady=null,this._init()}var n,r,t;return n=e,(r=[{key:"_init",value:function(){var e=this;return new Promise((function(n,r){var t=indexedDB.open(e.name,e.version);t.onsuccess=function(){e.api=t.result,n()},t.onupgradeneeded=function(){e.api=t.result,a.forEach((function(e){i.api.objectStoreNames.contains(e.name)||i.api.createObjectStore(e.name,{keyPath:e.key})})),n()},t.onerror=function(e){r(e)}})).then((function(){e.isReady=!0,console.log("indexedDB успешно создано")})).catch((function(n){e.isReady=!1,console.error("Ошибка создания indexedDB",n)}))}},{key:"ready",value:function(){var e=this;return this.isReady?Promise.resolve():!1===this.isReady?Promise.reject():new Promise((function(n){setTimeout((function(){n(e.ready())}),100)}))}},{key:"getAll",value:function(e){var n=this;return new Promise((function(r,t){n.ready().then((function(){var o=n.api.transaction(e,"readonly").objectStore(e).getAll();o.onsuccess=function(){r(o.result||[])},o.onerror=function(){t(o.error)}}))}))}},{key:"deleteRecord",value:function(e,n){var r=this;return new Promise((function(t,o){r.ready().then((function(){var u=r.api.transaction(e,"readwrite").objectStore(e).delete(n);u.onsuccess=function(){t({result:"ok"})},u.onerror=function(){o(u.error)}}))}))}},{key:"addRecord",value:function(e,n){var r=this;return new Promise((function(t,u){r.ready().then((function(){var a=r.api.transaction(e,"readwrite").objectStore(e);n.localGuid=n.id||n.localGuid||o()(JSON.stringify(n),o.a.URL);var i=a.put(n);i.onsuccess=function(){t(n)},i.onerror=function(){u(i.error)}}))}))}}])&&u(n.prototype,r),t&&u(n,t),e}())({name:"sarex-db",version:1,objects:a}),c=i,s="response-cache",f="https://sarex111.io";function l(e){return new Response(JSON.stringify(e),{headers:{"content-type":"application/json"}})}function d(e){return fetch(e)}self.addEventListener("fetch",(function(e){e.respondWith(function(e){if(e.url.match(f))return function(e){if(e.url.match("/remarks"))return function(e){if("GET"===e.method)return c.getAll("remarks").then((function(e){return e}));if("POST"===e.method||"PUT"===e.method)return e.clone().json().then((function(e){return n=e,c.addRecord("remarks",n).then((function(e){return e}));var n}));if("DELETE"===e.method)return e.clone().json().then((function(e){return function(e){return c.deleteRecord("remarks",e).then((function(e){return e}))}(e.id||e.localGuid)}));return Promise.reject()}(e);if(e.url.match("/status"))return function(e){if("GET"===e.method)return c.getAll("statuses").then((function(e){return e}));if("POST"===e.method||"PUT"===e.method)return e.clone().json().then((function(e){return function(e){return console.log(e),c.addRecord("statuses",e).then((function(e){return e}))}(e)}));return Promise.reject()}(e);return d(e)}(e).then((function(e){return l(e)})).catch((function(e){return l(e)}));if("GET"===e.method&&!e.url.match("chrome-extension")&&!e.url.match("http://localhost"))return caches.open(s).then((function(n){return n.match(e).then((function(n){return n||function(e){return caches.open(s).then((function(n){return fetch(e).then((function(r){return 200===r.status?n.put(e,r.clone()).then((function(){return r})):r}))}))}(e)}))}));return d(e)}(e.request))})),self.addEventListener("message",(function(e){var n=e.data,r=void 0===n?{}:n;switch(r.action){case"getCacheRecord":getCacheRecord(r.name);break;case"setCacheRecord":setCacheRecord(r)}}))}});